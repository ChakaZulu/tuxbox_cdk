diff -ur busybox-1.1.0-original/debian/config-deb busybox-1.1.0/debian/config-deb
--- busybox-1.1.0-original/debian/config-deb	2006-01-11 06:43:42.000000000 +0100
+++ busybox-1.1.0/debian/config-deb	2006-03-05 16:59:55.000000000 +0100
@@ -249,7 +249,7 @@
 # CONFIG_MT is not set
 # CONFIG_STRINGS is not set
 # CONFIG_TIME is not set
-# CONFIG_WATCHDOG is not set
+# CONFIG_BB_WATCHDOG is not set
 
 #
 # Linux Module Utilities
Only in busybox-1.1.0/debian: config-deb~
diff -ur busybox-1.1.0-original/debian/config-floppy-udeb-linux busybox-1.1.0/debian/config-floppy-udeb-linux
--- busybox-1.1.0-original/debian/config-floppy-udeb-linux	2006-01-11 06:43:42.000000000 +0100
+++ busybox-1.1.0/debian/config-floppy-udeb-linux	2006-03-05 16:59:34.000000000 +0100
@@ -213,7 +213,7 @@
 # CONFIG_MT is not set
 # CONFIG_STRINGS is not set
 # CONFIG_TIME is not set
-# CONFIG_WATCHDOG is not set
+# CONFIG_BB_WATCHDOG is not set
 
 #
 # Linux Module Utilities
Only in busybox-1.1.0/debian: config-floppy-udeb-linux~
diff -ur busybox-1.1.0-original/debian/config-static busybox-1.1.0/debian/config-static
--- busybox-1.1.0-original/debian/config-static	2006-01-11 06:43:42.000000000 +0100
+++ busybox-1.1.0/debian/config-static	2006-03-05 17:00:06.000000000 +0100
@@ -287,7 +287,7 @@
 CONFIG_MT=y
 CONFIG_STRINGS=y
 CONFIG_TIME=y
-CONFIG_WATCHDOG=y
+CONFIG_BB_WATCHDOG=y
 
 #
 # Linux Module Utilities
Only in busybox-1.1.0/debian: config-static~
diff -ur busybox-1.1.0-original/debian/config-udeb busybox-1.1.0/debian/config-udeb
--- busybox-1.1.0-original/debian/config-udeb	2006-01-11 06:43:42.000000000 +0100
+++ busybox-1.1.0/debian/config-udeb	2006-03-05 16:59:49.000000000 +0100
@@ -252,7 +252,7 @@
 # CONFIG_MT is not set
 # CONFIG_STRINGS is not set
 # CONFIG_TIME is not set
-# CONFIG_WATCHDOG is not set
+# CONFIG_BB_WATCHDOG is not set
 
 #
 # Linux Module Utilities
diff -ur busybox-1.1.0-original/debian/config-udeb-linux busybox-1.1.0/debian/config-udeb-linux
--- busybox-1.1.0-original/debian/config-udeb-linux	2006-01-11 06:43:42.000000000 +0100
+++ busybox-1.1.0/debian/config-udeb-linux	2006-03-05 16:59:43.000000000 +0100
@@ -252,7 +252,7 @@
 # CONFIG_MT is not set
 # CONFIG_STRINGS is not set
 # CONFIG_TIME is not set
-# CONFIG_WATCHDOG is not set
+# CONFIG_BB_WATCHDOG is not set
 
 #
 # Linux Module Utilities
diff -ur busybox-1.1.0-original/init/init.c busybox-1.1.0/init/init.c
--- busybox-1.1.0-original/init/init.c	2006-01-11 06:44:17.000000000 +0100
+++ busybox-1.1.0/init/init.c	2006-03-04 23:23:07.000000000 +0100
@@ -344,7 +344,7 @@
 	while ((fd = open(console, O_RDONLY | O_NONBLOCK)) < 0 && tried < 2) {
 		/* Can't open selected console -- try
 			logical system console and VT_MASTER */
-		safe_strncpy(console, (tried == 0 ? _PATH_CONSOLE : CURRENT_VC),
+		safe_strncpy(console, (tried == 0 ? _PATH_CONSOLE : "/dev/tty0"),
 							sizeof(console));
 		tried++;
 	}
@@ -608,15 +608,12 @@
 
 	pid = run(a);
 	while (1) {
-		wpid = waitpid(pid,&status,0);
+		wpid = wait(&status);
+		if (wpid > 0 && wpid != pid) {
+			continue;
+		}	
 		if (wpid == pid)
 			break;
-		if (wpid == -1 && errno == ECHILD) {
-			/* we missed its termination */
-			break;
-		}
-		/* FIXME other errors should maybe trigger an error, but allow
-		 * the program to continue */
 	}
 	return wpid;
 }
diff -ur busybox-1.1.0-original/libbb/messages.c busybox-1.1.0/libbb/messages.c
--- busybox-1.1.0-original/libbb/messages.c	2006-01-11 06:44:06.000000000 +0100
+++ busybox-1.1.0/libbb/messages.c	2006-03-04 23:23:07.000000000 +0100
@@ -59,27 +59,47 @@
 #endif
 
 #ifdef L_passwd_file
-#define PASSWD_FILE        "/etc/passwd"
+#ifdef CONFIG_AUTH_IN_VAR_ETC
+ #define PASSWD_FILE        "/var/etc/passwd"
+#else
+ #define PASSWD_FILE        "/etc/passwd"
+#endif
 const char * const bb_path_passwd_file = PASSWD_FILE;
 #endif
 
 #ifdef L_shadow_file
-#define SHADOW_FILE        "/etc/shadow"
+#ifdef CONFIG_AUTH_IN_VAR_ETC
+ #define SHADOW_FILE        "/var/etc/shadow"
+#else
+ #define SHADOW_FILE        "/etc/shadow"
+#endif
 const char * const bb_path_shadow_file = SHADOW_FILE;
 #endif
 
 #ifdef L_group_file
-#define GROUP_FILE         "/etc/group"
+#ifdef CONFIG_AUTH_IN_VAR_ETC
+ #define GROUP_FILE         "/var/etc/group"
+#else
+ #define GROUP_FILE         "/etc/group"
+#endif
 const char * const bb_path_group_file = GROUP_FILE;
 #endif
 
 #ifdef L_gshadow_file
-#define GSHADOW_FILE       "/etc/gshadow"
+#ifdef CONFIG_AUTH_IN_VAR_ETC
+ #define GSHADOW_FILE       "/var/etc/gshadow"
+#else
+ #define GSHADOW_FILE       "/etc/gshadow"
+#endif
 const char * const bb_path_gshadow_file = GSHADOW_FILE;
 #endif
 
 #ifdef L_nologin_file
-#define NOLOGIN_FILE       "/etc/nologin"
+#ifdef CONFIG_AUTH_IN_VAR_ETC
+ #define NOLOGIN_FILE       "/var/etc/nologin"
+#else
+ #define NOLOGIN_FILE       "/etc/nologin"
+#endif
 const char * const bb_path_nologin_file = NOLOGIN_FILE;
 #endif
 
diff -ur busybox-1.1.0-original/miscutils/Config.in busybox-1.1.0/miscutils/Config.in
--- busybox-1.1.0-original/miscutils/Config.in	2006-01-11 06:44:13.000000000 +0100
+++ busybox-1.1.0/miscutils/Config.in	2006-03-05 17:00:24.000000000 +0100
@@ -291,7 +291,7 @@
 	  When the command finishes, time writes a message to standard output
 	  giving timing statistics about this program run.
 
-config CONFIG_WATCHDOG
+config CONFIG_BB_WATCHDOG
 	bool "watchdog"
 	default n
 	help
Only in busybox-1.1.0/miscutils: Config.in~
diff -ur busybox-1.1.0-original/miscutils/Makefile.in busybox-1.1.0/miscutils/Makefile.in
--- busybox-1.1.0-original/miscutils/Makefile.in	2006-01-11 06:44:13.000000000 +0100
+++ busybox-1.1.0/miscutils/Makefile.in	2006-03-05 17:00:16.000000000 +0100
@@ -29,7 +29,7 @@
 MISCUTILS-$(CONFIG_SETSID)      += setsid.o
 MISCUTILS-$(CONFIG_STRINGS)     += strings.o
 MISCUTILS-$(CONFIG_TIME)        += time.o
-MISCUTILS-$(CONFIG_WATCHDOG)    += watchdog.o
+MISCUTILS-$(CONFIG_BB_WATCHDOG) += watchdog.o
 
 libraries-y+=$(MISCUTILS_DIR)$(MISCUTILS_AR)
 
diff -ur busybox-1.1.0-original/networking/ifupdown.c busybox-1.1.0/networking/ifupdown.c
--- busybox-1.1.0-original/networking/ifupdown.c	2006-01-11 06:43:51.000000000 +0100
+++ busybox-1.1.0/networking/ifupdown.c	2006-03-04 23:23:07.000000000 +0100
@@ -991,7 +991,7 @@
 
 static int execute_all(struct interface_defn_t *ifd, execfn *exec, const char *opt)
 {
-	int i;
+	int i, fd;
 	char *buf;
 	for (i = 0; i < ifd->n_options; i++) {
 		if (strcmp(ifd->option[i].name, opt) == 0) {
@@ -1001,9 +1001,13 @@
 		}
 	}
 
-	buf = bb_xasprintf("run-parts /etc/network/if-%s.d", opt);
-	if ((*exec)(buf) != 1) {
-		return 0;
+	buf = bb_xasprintf("/etc/network/if-%s.d", opt);
+	if ((fd = open(buf, O_RDONLY)) >= 0) {
+		close(fd);
+		buf = bb_xasprintf("run-parts /etc/network/if-%s.d", opt);
+		if ((*exec)(buf) != 1) {
+			return 0;
+		}
 	}
 	return 1;
 }
diff -ur busybox-1.1.0-original/sysdeps/linux/Config.in busybox-1.1.0/sysdeps/linux/Config.in
--- busybox-1.1.0-original/sysdeps/linux/Config.in	2006-01-11 06:44:17.000000000 +0100
+++ busybox-1.1.0/sysdeps/linux/Config.in	2006-03-04 23:23:07.000000000 +0100
@@ -218,6 +218,14 @@
 	help
 	  Disables support for numeric arguments in fold.
 
+config CONFIG_AUTH_IN_VAR_ETC
+       bool "Search auth files in /var/etc"
+       default n
+       help
+         passwd, shadow, group, gshadow, and nologin will be searched in
+         /var/etc instead of /etc. This is usefull, if /etc is not
+         writeable (flash). 
+
 endmenu
 
 menu 'Installation Options'
Only in busybox-1.1.0/sysdeps/linux: Config.in.orig
diff -ur busybox-1.1.0-original/sysdeps/linux/defconfig busybox-1.1.0/sysdeps/linux/defconfig
--- busybox-1.1.0-original/sysdeps/linux/defconfig	2006-01-11 06:44:17.000000000 +0100
+++ busybox-1.1.0/sysdeps/linux/defconfig	2006-03-05 17:00:44.000000000 +0100
@@ -267,7 +267,7 @@
 # CONFIG_RX is not set
 CONFIG_STRINGS=y
 CONFIG_TIME=y
-# CONFIG_WATCHDOG is not set
+# CONFIG_BB_WATCHDOG is not set
 
 #
 # Linux Module Utilities
